<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>Chats</title>    
    <link rel="stylesheet" href="/css/chatsPage.css" />
    
    <script src="https://unpkg.com/vue@3"></script>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
</body>

{{> navigate}}

<div id="main">
    <button id="createchat-button"> <a href="/chat/create">Create your chat</a> </button>

    <h1 id="active-chats">Active chats</h1>
    <p style="color: white;" >⭐ - your chats</p>
    <table>
        {{!-- Headers --}}
        <tr> <th>Id</th> <th>Name</th> <th>Users</th> </tr>
        {{#each chats}}
            <tr>
                <td> {{this.id}} </td>
                <td> {{#if (eq ../user.id this.ownerUser.id)}} ⭐ {{/if}} {{this.name}} </td> 
                <td> {{this.users.length}} </td> 
                <td> <button @click="buttonJoinHandler({{this.id}})">Join</button> </td>
            </tr>
        {{/each}}
    </table>
</div>

<script src="/js/chats.vue.js"></script>

<body>